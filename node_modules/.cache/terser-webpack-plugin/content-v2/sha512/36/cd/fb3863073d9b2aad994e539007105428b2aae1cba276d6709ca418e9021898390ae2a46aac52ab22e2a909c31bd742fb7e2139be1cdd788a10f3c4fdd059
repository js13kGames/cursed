{"code":"!function(t){var e={};function s(i){if(e[i])return e[i].exports;var h=e[i]={i:i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var h in t)s.d(i,h,function(e){return t[e]}.bind(null,h));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,\"a\",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p=\"\",s(s.s=14)}([function(t,e){t.exports=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAATCAYAAAB2pebxAAABkklEQVQ4jaWSQUsCURDH53nLZNerqAh6EuwqhAc1ECswvHXrEh76AHaTrh2DPoNnBfGyhw5+ASFBAimWFTrowT1VuxL/mGcrvmqj1oE/7735w+/NMEMArmnbwCqutsIwYjKZ8HG5FSQej8M0Tb5eBIbwkclkMJ1O+XkWGMLKZrOYzWbvAE4DQ1i5XA62bbsATv7KEAwRQijJfD5PhmG4uq4fEdFTIAhHqVSifr//Gg6Hd2zb9gVEo9Hv7WyqUqnAcRxf31uzXyGsWq32P0g6nZZntVrFYrFYi3O8R5s5L69A+MfRaCTvoVAIlmWxdej5mqZB13VFCoQBjuO8AHgoFovSbLVabN16kMFggOFwqEiBfAIOAJy3221pxmIxLJdL24Mkk0mkUilFHoRH/EZEx0KIOwC7rus+JxIJbT6fU6fToXq9TrwCvV6PIpGIMt5yucwUiVI2k1toNpvyl0ajsSqXCIVCAdzqptaVfF0eAHuWZd2Px2PiKQkhRLfb9V02WelPBgCDiB6J6IaI9n0JHET0AYEAicLgOa1RAAAAAElFTkSuQmCC\"},function(t,e){t.exports=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAVCAYAAAB2Wd+JAAABs0lEQVQ4jZXTsUsCURwH8K9pnRbVIYKgIFIG3narg4O5B/4RCQ1C/0BNDdHQGE4NColbGDg6JA6OKkhgODgIIqKhvhs8ffF7qJyW1j14/Ib3Pu/77nd3ALAzmUweqMLksHPO+Wg0ejSLjwjWajXTWCbocrl4tVo1hQUEYBovIU23280bjca/8Aqk6fV6F/h+G/4BjXg4HN5uwr/C/+CN8C+8FW7DK9Dn84nq8Xh4t9vl/X5fTE3TaNsS24zRoVAI2WwWwWAQ7XYbxWIRgUDgOZlMvtpstqksy5qiKINFqkiMRCJ8PB5PB4PBRzweF6nRaJSSmg6HwwvABcAJ4ACA1TKHfcaYXigUbnq93peqqk+qqopb1Ot1WCyWC0VR8vPHwaLKs9lsksvlrgH47Xb7CWOsGQ6HRWoikaAP4Q3A7vrrOCyVSpcA6Dr7dFClUrnLZDIC+v1+ruu6ns/nTwHQDZdjj34tAI75ghSLxRTGGEulUqKbmqZ9lsvl8/X3SJuthtNo0dlqtV46nc57Op2+kiTpDMCxEa5EGwalUwclABqA8bzqi8ZsgnQyNYMqbV4CMQB8A69RODSxqxIyAAAAAElFTkSuQmCC\"},function(t,e){t.exports=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAiCAYAAACwaJKDAAADTklEQVRIia3VXUhTURwA8P/ZvXfqNjfR+QFqUb1IfqFRL+1ByGImoRAUaeBbQUEfog4qrF4j7EHyQamX9lIWQZFNSnpMVlCtssYQJcvEr+nd1X3c7Z74r93L9XNz24HD5Zx7z+/+/+eecy4AgEYUxTt4hTSWTEopFQShJ52wEVGXy5VWOAdRs9mcVjiKAoAC+3y+m6nCCroO7k4FXoPKsNvtTgnegGItLi6mHo8naXhTVA3zPN++U3hLVA0vLy9fThQmMdRLCFE6LRYLMAyjtEtKSmBgYABEUbxiMpl6AUBKOFJCCO3r66OBQGCO53mPugqC4A4Gg9+mp6etsWDioxqNhtrtdkzze11dnQUAygFgv6qWAUApABgSmYYoKoNWq/UgABTg9gWAbKx51ScLSq3dpVWdvcUVV+8Z40WqzKnX6/3c0tJyzuFwjAOAr7rjYyGny+0gDHcaCCnCh4uO5P8fRemMFA49Di0t3H3TvOdP7KOuQU08zw/X19efdzqdUwAg1F7/2cZo9T1AiEH9sILKhVIh7BfaXx81P1B/PJwbsbW19YzT6fyF4IEb7i4mw9C/Htw8T2Jgddn9DW8XrqnnGSPFtcPim2psX5pZfd6TrYwNkapKaGnu1HBjyVOMH/UI9u1quKVnsnJ640a3ReGMub1VXfeNoAqZ5FY2tRINU5gsimOLLCfOoimjLKPVNSULyoXR6dFgZZQjbOahlNGMLDQ4Vm6zOpallK5uN4hGInFYwkYtuZV/2KyPF8nMyFwiARNlbUliaCaREdsVGhGjhoxS0bc0mioa9kcNKqNh3+SPl6mi/jkPGmEZFZ2dzY6wXxhLFpRCK2Mee5sDLSXSSGDV93vIbqOSFNyxSKXg/KdBmyT6fWgx6luz7x2L2XvLJwy7y44RQtj1Y4WJTVYclYKLY0OXJp63j+AjuO3XoPiWv++eTbE6wwfjvooaDZeRtx0aCQqe2dGHFyZf2BBcwtSxf/0Jju0MPPXZLIO59vajRlNZ7XGtMbdSw2nzcJ3SiLgQXvV+XZl2DY0PXnwlhVbmAYAHAJy26GG92W8B+zD1rNj/CDcFvkjOCrcVAiuxdP2Yofr03+5fI+Nc7Cp/VDzhEcFU12DRAgD/ABHBuAS52zBHAAAAAElFTkSuQmCC\"},function(t,e){t.exports=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAwElEQVQ4jZ2TQQrDMAwEVyXFPdTQQx/RQx7Q/7+nhx4LKaRYkYstLMuJQCQI72TZyHBqWqXSu3fYKoYQEfd6EDaJsOq9sCYktwWjBmSpDtB2ZNNX8zOAb9eJPJ+lMz3TzqiALK2ve7PSGTsJIZi5WJ002dkJwGX0L3SKGVcAD51HsYjdWdIKgwO7A5gPhD2L9h96BfMcWZAmzFlIEzIEG4WYsBjjboiZmQfRd03DbiJO9QLwtu5XD5RheWE/FgQAfgc2DTfM2mt4AAAAAElFTkSuQmCC\"},function(t,e){t.exports=\"data:image/png;charset=utf-8;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABSklEQVQ4jY2TQUrDQBSG/4SKSosUF+muIDmABL2CF5Bu7M4LeIespJBz5B4S6AW6yiKLMhsJplWMJB0yibwwI2nMjP4wTDLwvrz//RkAGDUG1XX9lqapB8CCRhMqB3C0lstlczgcdmEY3gEYA7B1gGkfsFgsmrIsP4MguAcwA3Bq6uAXwHXdhjEmNpvNE4AzU/ERgL5MxV3Ifr9/NLX/A5Cec8bYfyBWnufXqrMWUBTFu+/7D1EUrf6AWNvt9obSAXDSAqqq2smBzQFcrdfrZx0kSZJbznkmbU8IMJFRzeTAKLK5DsI5/yC7EjCFbGPcico2QWjQ9NwFqKJuVFqIWgpgy4Na7kr0XgDI4jh+cRzny/M8U5KDstTAyHP/V+9aGFIblRAiE0LQhRq8bQTQ/aJk7RzAJYALlXdPOYBXHYDORzIZ2odUASi/AXkhPyi4UUIwAAAAAElFTkSuQmCC\"},function(t,e,s){\"use strict\";var i=s(6),h=s(9);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=g,e.resolve=function(t,e){return g(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?g(t,!1,!0).resolveObject(e):e},e.format=function(t){h.isString(t)&&(t=g(t));return t instanceof a?t.format():a.prototype.format.call(t)},e.Url=a;var r=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,n=/^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,l=[\"{\",\"}\",\"|\",\"\\\\\",\"^\",\"`\"].concat([\"<\",\">\",'\"',\"`\",\" \",\"\\r\",\"\\n\",\"\\t\"]),c=[\"'\"].concat(l),p=[\"%\",\"/\",\"?\",\";\",\"#\"].concat(c),u=[\"/\",\"?\",\"#\"],_=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,\"javascript:\":!0},y={javascript:!0,\"javascript:\":!0},b={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,\"http:\":!0,\"https:\":!0,\"ftp:\":!0,\"gopher:\":!0,\"file:\":!0},m=s(10);function g(t,e,s){if(t&&h.isObject(t)&&t instanceof a)return t;var i=new a;return i.parse(t,e,s),i}a.prototype.parse=function(t,e,s){if(!h.isString(t))throw new TypeError(\"Parameter 'url' must be a string, not \"+typeof t);var a=t.indexOf(\"?\"),o=-1!==a&&a<t.indexOf(\"#\")?\"?\":\"#\",l=t.split(o);l[0]=l[0].replace(/\\\\/g,\"/\");var g=t=l.join(o);if(g=g.trim(),!s&&1===t.split(\"#\").length){var A=n.exec(g);if(A)return this.path=g,this.href=g,this.pathname=A[1],A[2]?(this.search=A[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search=\"\",this.query={}),this}var v=r.exec(g);if(v){var k=(v=v[0]).toLowerCase();this.protocol=k,g=g.substr(v.length)}if(s||v||g.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)){var x=\"//\"===g.substr(0,2);!x||v&&y[v]||(g=g.substr(2),this.slashes=!0)}if(!y[v]&&(x||v&&!b[v])){for(var w,T,I=-1,C=0;C<u.length;C++){-1!==(S=g.indexOf(u[C]))&&(-1===I||S<I)&&(I=S)}-1!==(T=-1===I?g.lastIndexOf(\"@\"):g.lastIndexOf(\"@\",I))&&(w=g.slice(0,T),g=g.slice(T+1),this.auth=decodeURIComponent(w)),I=-1;for(C=0;C<p.length;C++){var S;-1!==(S=g.indexOf(p[C]))&&(-1===I||S<I)&&(I=S)}-1===I&&(I=g.length),this.host=g.slice(0,I),g=g.slice(I),this.parseHost(),this.hostname=this.hostname||\"\";var E=\"[\"===this.hostname[0]&&\"]\"===this.hostname[this.hostname.length-1];if(!E)for(var O=this.hostname.split(/\\./),D=(C=0,O.length);C<D;C++){var P=O[C];if(P&&!P.match(_)){for(var R=\"\",j=0,B=P.length;j<B;j++)P.charCodeAt(j)>127?R+=\"x\":R+=P[j];if(!R.match(_)){var q=O.slice(0,C),L=O.slice(C+1),M=P.match(d);M&&(q.push(M[1]),L.unshift(M[2])),L.length&&(g=\"/\"+L.join(\".\")+g),this.hostname=q.join(\".\");break}}}this.hostname.length>255?this.hostname=\"\":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=i.toASCII(this.hostname));var U=this.port?\":\"+this.port:\"\",N=this.hostname||\"\";this.host=N+U,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),\"/\"!==g[0]&&(g=\"/\"+g))}if(!f[k])for(C=0,D=c.length;C<D;C++){var F=c[C];if(-1!==g.indexOf(F)){var V=encodeURIComponent(F);V===F&&(V=escape(F)),g=g.split(F).join(V)}}var W=g.indexOf(\"#\");-1!==W&&(this.hash=g.substr(W),g=g.slice(0,W));var Q=g.indexOf(\"?\");if(-1!==Q?(this.search=g.substr(Q),this.query=g.substr(Q+1),e&&(this.query=m.parse(this.query)),g=g.slice(0,Q)):e&&(this.search=\"\",this.query={}),g&&(this.pathname=g),b[k]&&this.hostname&&!this.pathname&&(this.pathname=\"/\"),this.pathname||this.search){U=this.pathname||\"\";var G=this.search||\"\";this.path=U+G}return this.href=this.format(),this},a.prototype.format=function(){var t=this.auth||\"\";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,\":\"),t+=\"@\");var e=this.protocol||\"\",s=this.pathname||\"\",i=this.hash||\"\",a=!1,r=\"\";this.host?a=t+this.host:this.hostname&&(a=t+(-1===this.hostname.indexOf(\":\")?this.hostname:\"[\"+this.hostname+\"]\"),this.port&&(a+=\":\"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(r=m.stringify(this.query));var o=this.search||r&&\"?\"+r||\"\";return e&&\":\"!==e.substr(-1)&&(e+=\":\"),this.slashes||(!e||b[e])&&!1!==a?(a=\"//\"+(a||\"\"),s&&\"/\"!==s.charAt(0)&&(s=\"/\"+s)):a||(a=\"\"),i&&\"#\"!==i.charAt(0)&&(i=\"#\"+i),o&&\"?\"!==o.charAt(0)&&(o=\"?\"+o),e+a+(s=s.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(o=o.replace(\"#\",\"%23\"))+i},a.prototype.resolve=function(t){return this.resolveObject(g(t,!1,!0)).format()},a.prototype.resolveObject=function(t){if(h.isString(t)){var e=new a;e.parse(t,!1,!0),t=e}for(var s=new a,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];s[o]=this[o]}if(s.hash=t.hash,\"\"===t.href)return s.href=s.format(),s;if(t.slashes&&!t.protocol){for(var n=Object.keys(t),l=0;l<n.length;l++){var c=n[l];\"protocol\"!==c&&(s[c]=t[c])}return b[s.protocol]&&s.hostname&&!s.pathname&&(s.path=s.pathname=\"/\"),s.href=s.format(),s}if(t.protocol&&t.protocol!==s.protocol){if(!b[t.protocol]){for(var p=Object.keys(t),u=0;u<p.length;u++){var _=p[u];s[_]=t[_]}return s.href=s.format(),s}if(s.protocol=t.protocol,t.host||y[t.protocol])s.pathname=t.pathname;else{for(var d=(t.pathname||\"\").split(\"/\");d.length&&!(t.host=d.shift()););t.host||(t.host=\"\"),t.hostname||(t.hostname=\"\"),\"\"!==d[0]&&d.unshift(\"\"),d.length<2&&d.unshift(\"\"),s.pathname=d.join(\"/\")}if(s.search=t.search,s.query=t.query,s.host=t.host||\"\",s.auth=t.auth,s.hostname=t.hostname||t.host,s.port=t.port,s.pathname||s.search){var f=s.pathname||\"\",m=s.search||\"\";s.path=f+m}return s.slashes=s.slashes||t.slashes,s.href=s.format(),s}var g=s.pathname&&\"/\"===s.pathname.charAt(0),A=t.host||t.pathname&&\"/\"===t.pathname.charAt(0),v=A||g||s.host&&t.pathname,k=v,x=s.pathname&&s.pathname.split(\"/\")||[],w=(d=t.pathname&&t.pathname.split(\"/\")||[],s.protocol&&!b[s.protocol]);if(w&&(s.hostname=\"\",s.port=null,s.host&&(\"\"===x[0]?x[0]=s.host:x.unshift(s.host)),s.host=\"\",t.protocol&&(t.hostname=null,t.port=null,t.host&&(\"\"===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),v=v&&(\"\"===d[0]||\"\"===x[0])),A)s.host=t.host||\"\"===t.host?t.host:s.host,s.hostname=t.hostname||\"\"===t.hostname?t.hostname:s.hostname,s.search=t.search,s.query=t.query,x=d;else if(d.length)x||(x=[]),x.pop(),x=x.concat(d),s.search=t.search,s.query=t.query;else if(!h.isNullOrUndefined(t.search)){if(w)s.hostname=s.host=x.shift(),(E=!!(s.host&&s.host.indexOf(\"@\")>0)&&s.host.split(\"@\"))&&(s.auth=E.shift(),s.host=s.hostname=E.shift());return s.search=t.search,s.query=t.query,h.isNull(s.pathname)&&h.isNull(s.search)||(s.path=(s.pathname?s.pathname:\"\")+(s.search?s.search:\"\")),s.href=s.format(),s}if(!x.length)return s.pathname=null,s.search?s.path=\"/\"+s.search:s.path=null,s.href=s.format(),s;for(var T=x.slice(-1)[0],I=(s.host||t.host||x.length>1)&&(\".\"===T||\"..\"===T)||\"\"===T,C=0,S=x.length;S>=0;S--)\".\"===(T=x[S])?x.splice(S,1):\"..\"===T?(x.splice(S,1),C++):C&&(x.splice(S,1),C--);if(!v&&!k)for(;C--;C)x.unshift(\"..\");!v||\"\"===x[0]||x[0]&&\"/\"===x[0].charAt(0)||x.unshift(\"\"),I&&\"/\"!==x.join(\"/\").substr(-1)&&x.push(\"\");var E,O=\"\"===x[0]||x[0]&&\"/\"===x[0].charAt(0);w&&(s.hostname=s.host=O?\"\":x.length?x.shift():\"\",(E=!!(s.host&&s.host.indexOf(\"@\")>0)&&s.host.split(\"@\"))&&(s.auth=E.shift(),s.host=s.hostname=E.shift()));return(v=v||s.host&&x.length)&&!O&&x.unshift(\"\"),x.length?s.pathname=x.join(\"/\"):(s.pathname=null,s.path=null),h.isNull(s.pathname)&&h.isNull(s.search)||(s.path=(s.pathname?s.pathname:\"\")+(s.search?s.search:\"\")),s.auth=t.auth||s.auth,s.slashes=s.slashes||t.slashes,s.href=s.format(),s},a.prototype.parseHost=function(){var t=this.host,e=o.exec(t);e&&(\":\"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,s){(function(t,i){var h;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(a){e&&e.nodeType,t&&t.nodeType;var r=\"object\"==typeof i&&i;r.global!==r&&r.window!==r&&r.self;var o,n=2147483647,l=36,c=1,p=26,u=38,_=700,d=72,f=128,y=\"-\",b=/^xn--/,m=/[^\\x20-\\x7E]/,g=/[\\x2E\\u3002\\uFF0E\\uFF61]/g,A={overflow:\"Overflow: input needs wider integers to process\",\"not-basic\":\"Illegal input >= 0x80 (not a basic code point)\",\"invalid-input\":\"Invalid input\"},v=l-c,k=Math.floor,x=String.fromCharCode;function w(t){throw new RangeError(A[t])}function T(t,e){for(var s=t.length,i=[];s--;)i[s]=e(t[s]);return i}function I(t,e){var s=t.split(\"@\"),i=\"\";return s.length>1&&(i=s[0]+\"@\",t=s[1]),i+T((t=t.replace(g,\".\")).split(\".\"),e).join(\".\")}function C(t){for(var e,s,i=[],h=0,a=t.length;h<a;)(e=t.charCodeAt(h++))>=55296&&e<=56319&&h<a?56320==(64512&(s=t.charCodeAt(h++)))?i.push(((1023&e)<<10)+(1023&s)+65536):(i.push(e),h--):i.push(e);return i}function S(t){return T(t,(function(t){var e=\"\";return t>65535&&(e+=x((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=x(t)})).join(\"\")}function E(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function O(t,e,s){var i=0;for(t=s?k(t/_):t>>1,t+=k(t/e);t>v*p>>1;i+=l)t=k(t/v);return k(i+(v+1)*t/(t+u))}function D(t){var e,s,i,h,a,r,o,u,_,b,m,g=[],A=t.length,v=0,x=f,T=d;for((s=t.lastIndexOf(y))<0&&(s=0),i=0;i<s;++i)t.charCodeAt(i)>=128&&w(\"not-basic\"),g.push(t.charCodeAt(i));for(h=s>0?s+1:0;h<A;){for(a=v,r=1,o=l;h>=A&&w(\"invalid-input\"),((u=(m=t.charCodeAt(h++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||u>k((n-v)/r))&&w(\"overflow\"),v+=u*r,!(u<(_=o<=T?c:o>=T+p?p:o-T));o+=l)r>k(n/(b=l-_))&&w(\"overflow\"),r*=b;T=O(v-a,e=g.length+1,0==a),k(v/e)>n-x&&w(\"overflow\"),x+=k(v/e),v%=e,g.splice(v++,0,x)}return S(g)}function P(t){var e,s,i,h,a,r,o,u,_,b,m,g,A,v,T,I=[];for(g=(t=C(t)).length,e=f,s=0,a=d,r=0;r<g;++r)(m=t[r])<128&&I.push(x(m));for(i=h=I.length,h&&I.push(y);i<g;){for(o=n,r=0;r<g;++r)(m=t[r])>=e&&m<o&&(o=m);for(o-e>k((n-s)/(A=i+1))&&w(\"overflow\"),s+=(o-e)*A,e=o,r=0;r<g;++r)if((m=t[r])<e&&++s>n&&w(\"overflow\"),m==e){for(u=s,_=l;!(u<(b=_<=a?c:_>=a+p?p:_-a));_+=l)T=u-b,v=l-b,I.push(x(E(b+T%v,0))),u=k(T/v);I.push(x(E(u,0))),a=O(s,A,i==h),s=0,++i}++s,++e}return I.join(\"\")}o={version:\"1.4.1\",ucs2:{decode:C,encode:S},decode:D,encode:P,toASCII:function(t){return I(t,(function(t){return m.test(t)?\"xn--\"+P(t):t}))},toUnicode:function(t){return I(t,(function(t){return b.test(t)?D(t.slice(4).toLowerCase()):t}))}},void 0===(h=function(){return o}.call(e,s,e,t))||(t.exports=h)}()}).call(this,s(7)(t),s(8))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var s;s=function(){return this}();try{s=s||new Function(\"return this\")()}catch(t){\"object\"==typeof window&&(s=window)}t.exports=s},function(t,e,s){\"use strict\";t.exports={isString:function(t){return\"string\"==typeof t},isObject:function(t){return\"object\"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,s){\"use strict\";e.decode=e.parse=s(11),e.encode=e.stringify=s(12)},function(t,e,s){\"use strict\";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,s,a){e=e||\"&\",s=s||\"=\";var r={};if(\"string\"!=typeof t||0===t.length)return r;var o=/\\+/g;t=t.split(e);var n=1e3;a&&\"number\"==typeof a.maxKeys&&(n=a.maxKeys);var l=t.length;n>0&&l>n&&(l=n);for(var c=0;c<l;++c){var p,u,_,d,f=t[c].replace(o,\"%20\"),y=f.indexOf(s);y>=0?(p=f.substr(0,y),u=f.substr(y+1)):(p=f,u=\"\"),_=decodeURIComponent(p),d=decodeURIComponent(u),i(r,_)?h(r[_])?r[_].push(d):r[_]=[r[_],d]:r[_]=d}return r};var h=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}},function(t,e,s){\"use strict\";var i=function(t){switch(typeof t){case\"string\":return t;case\"boolean\":return t?\"true\":\"false\";case\"number\":return isFinite(t)?t:\"\";default:return\"\"}};t.exports=function(t,e,s,o){return e=e||\"&\",s=s||\"=\",null===t&&(t=void 0),\"object\"==typeof t?a(r(t),(function(r){var o=encodeURIComponent(i(r))+s;return h(t[r])?a(t[r],(function(t){return o+encodeURIComponent(i(t))})).join(e):o+encodeURIComponent(i(t[r]))})).join(e):o?encodeURIComponent(i(o))+s+encodeURIComponent(i(t)):\"\"};var h=Array.isArray||function(t){return\"[object Array]\"===Object.prototype.toString.call(t)};function a(t,e){if(t.map)return t.map(e);for(var s=[],i=0;i<t.length;i++)s.push(e(t[i],i));return s}var r=Object.keys||function(t){var e=[];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.push(s);return e}},function(t,e,s){},function(t,e,s){\"use strict\";s.r(e);let i=window;i.entities=[],i.tick=0,i.queueOnLoad=[],i.addEventListener(\"DOMContentLoaded\",t=>{i.queueOnLoad.map(t=>{t()})}),i.bounds={},i.bounds.getCenter=t=>{},i.bounds.ranPos=t=>{},i.bounds.spawnPoints=[],i.circ=(t,e,s,i)=>{i.beginPath(),i.arc(t,e,s,0,2*Math.PI),i.fill(),i.stroke()},i.dToRad=t=>t*Math.PI/180,i.sq=t=>Math.pow(t,2),i.sqDist=(t,e)=>i.sq(t.x-e.x)+i.sq(t.y-e.y),i.hyp=(t,e)=>Math.sqrt(t*t+e*e),i.ran=(t=1)=>Math.random()*t,i.ranRad=t=>Math.PI/30*Math.random(),i.ranNorm=(t=1)=>(Math.random()-.5)*t,i.ranInt=t=>Math.round(Math.random()*t),i.oneIn=t=>Math.round(Math.random()*t)===t,i.ranSeq=t=>{let e=Math.sin(1e5*t);return e-Math.floor(e)},i.next=(t,e)=>{let s=t.indexOf(e);if(-1!==s)return s+1<t.length?t[s+1]:t[0]};var h=i;h.keyMap=0,h.keys={87:1,65:2,83:4,68:8,32:16},document.onkeydown=function(t){var e=t.keyCode||t.key;keys[e]&&(keyMap|=keys[e],t.preventDefault())},document.onkeyup=function(t){var e=t.keyCode||t.key;keyMap&keys[e]&&(keyMap^=keys[e],t.preventDefault())};var a=1,r=2,o=3,n=s(0),l=s.n(n),c=s(1),p=s.n(c),u=s(2),_=s.n(u),d=s(3),f=s.n(d),y=s(4),b=s.n(y),m={cPointer:p.a,cRapid:l.a,cDiagonal:b.a,cCross:f.a,cBomb:_.a},g=[{hasUpgrades:!1,enemies:{floater:5,sniper:0,seeker:0,launcher:0,bomber:0,boss:0}},{hasUpgrades:!1,enemies:{floater:5,sniper:2,seeker:5,launcher:0,bomber:0}},{hasUpgrades:!0,up1:\"cRapid\",up2:\"cDiagonal\",enemies:{floater:4,sniper:2,seeker:2,launcher:1,bomber:0}},{hasUpgrades:!1,enemies:{floater:5,sniper:0,seeker:0,launcher:3,bomber:0}},{hasUpgrades:!0,up1:\"cCross\",up2:\"cBomb\",enemies:{floater:5,sniper:0,seeker:10,launcher:0,bomber:3}},{hasUpgrades:!1,enemies:{floater:5,sniper:0,seeker:0,launcher:2,bomber:2}},{hasUpgrades:!1,enemies:{floater:12,sniper:3,seeker:5,launcher:0,bomber:1,boss:1}}];var A=new class{constructor(t={}){h.queueOnLoad.push(t=>{this._texts=[],this._numTexts=100,this._main=document.getElementById(\"main-block\"),this._dialog=document.getElementById(\"base-dialog\"),this._url=document.getElementById(\"url\"),this._health=document.getElementById(\"health\"),this._mainText=document.getElementById(\"main-text\"),this._score=document.getElementById(\"score\"),this._finalScoreBs=document.getElementsByClassName(\"final-score\"),this._deathDialog=document.getElementById(\"death-dialog\"),this._upgradeDialog=document.getElementById(\"upgrade-dialog\"),this._winDialog=document.getElementById(\"win-dialog\"),this._choice1=document.getElementById(\"choice1\"),this._upgrade1=document.getElementById(\"upgrade-1\"),this._choice2=document.getElementById(\"choice2\"),this._upgrade2=document.getElementById(\"upgrade-2\"),this._typeOuts=[];for(let t=0;t<this._numTexts;t++){let t=document.createElement(\"div\");t.classList.add(\"back-text\",\"abs\"),t.style=`top: ${h.ranInt(100)}vh; left:${h.ranInt(100)}vw;`,t.textContent=\"/\",this._texts.push(t),document.body.appendChild(t)}setInterval(t=>{let e=this._texts[h.ranInt(this._numTexts)-1];e&&(e.textContent=String.fromCharCode(h.ranInt(42)+48).toLowerCase())},10)})}setHealth(t){this._health.textContent=\"\";for(let e=0;e<t;e++)this._health.textContent+=\"* \"}setState(t){this._prevState=this._state,this._state=t,this._stateLoop()}typeOut(t,e){if(t&&t.id){this._typeOuts[t.id]?this._typeOuts[t.id].map(t=>clearTimeout(t)):this._typeOuts[t.id]=[],t.textContent=\"\";for(let s=0;s<e.length;s++)this._typeOuts[t.id].push(setTimeout(i=>t.textContent+=e[s],65*s))}}_stateLoop(){switch(this._state){case\"INTRODUCTION\":break;case\"WAIT_CHOOSE_BACK\":this._prevState!==this._state&&this.typeOut(this._mainText,\"^^^^ Level complete: travel back\");break;case\"WAIT_CHOOSE_UPGRADE\":this._mainText.textContent=\"\";break;case\"START_LEVEL\":this.clearDialogs(),setTimeout(t=>{this.typeOut(this._url,\"____cursed____/?level=\"+(h._levels.length-h._level))},333);break;case\"START_WIN\":this.clearDialogs(),this._winDialog.classList.add(\"visible\",\"flex-center\");break;case\"PLAYING\":this._prevState!==this._state?this.typeOut(this._mainText,\"W, A, S, D, SPACE to shoot\"):this._mainText.textContent=\"\";break;case\"DEAD\":this._prevState!==this._state&&(this.typeOut(this._mainText,\"~~ sorry, you died :/ ~~\"),this._deathDialog.classList.add(\"visible\",\"flex-center\"))}}setScore(t){this._score.textContent=t}setFinalScore(t){for(let e=0;e<this._finalScoreBs.length;e++)this._finalScoreBs[e].textContent=t}showUpgrades(t={}){if(t.hasUpgrades){let{level:e,click1:s,click2:i}=t;this._upgradeDialog.classList.add(\"visible\"),this._choice1.src=m[e.up1],this._choice2.src=m[e.up2],this._upgrade1.onclick=s,this._upgrade2.onclick=i}else this._upgradeDialog.classList.add(\"visible\",\"no-upgrades\")}clearDialogs(){let t=document.getElementsByClassName(\"dialog\");for(let e=0;e<t.length;e++){t[e].classList.contains(\"visible\")&&t[e].classList.remove(\"visible\")}}createDialog(t={}){let{num:e,main:s=\"Contratulations!\",sub:i=\"You have died\",button:a=!1,classes:r=[],ran:o=!1,typeout:n=!1,pos:l=[]}=t,c=this._dialog.cloneNode(!0);if(c)return c.id=c.id+\"-\"+e,c.childNodes[5]&&(c.childNodes[5].id=\"main-\"+e,c.childNodes[5].textContent=s),c.childNodes[7]&&(c.childNodes[7].textContent=i),c.classList.add(...r,\"active\"),setTimeout(t=>{c.classList.add(\"visible\")},1),o&&(c.style=`top: ${20+h.ranInt(60)}vh; left:${20+h.ranInt(60)}vw; `),l&&(c.style=`top: ${l[1]}px; left:${l[0]}px; `),this._main.append(c),e}setUrl(t){this.typeOut(this._url,t)}},v={introduction:[{action:t=>{h.player.moveTo(h.bounds.getCenter()),h.player.isDisabled=!0,h.entities.push(h.player)},onTick:t=>{h.player.nextType()},tickInterval:15,starttick:0,endtick:750},{action:t=>{A.createDialog({num:1,main:\"\",sub:\"\",classes:[\"top-center\",\"small\",\"wide\",\"t-left\"],pos:[400,10]}),A.typeOut(document.getElementById(\"main-1\"),\"You were a shapeshifter...\")},tickInterval:43,starttick:1,endtick:100},{action:t=>{A.createDialog({num:2,main:\"\",sub:\"\",classes:[\"small\",\"wide\",\"t-left\"],pos:[460,50]}),A.typeOut(document.getElementById(\"main-2\"),\"But you were CURSED, forced to occupy a single form.\")},tickInterval:43,starttick:100,endtick:350},{action:t=>{A.createDialog({num:3,main:\"\",sub:\"\",classes:[\"small\",\"wide\",\"t-left\"],pos:[50,350]}),A.typeOut(document.getElementById(\"main-3\"),\"You were cast forward into the depths of the browser.\")},tickInterval:43,starttick:350,endtick:600},{action:t=>{A.createDialog({num:4,main:\"\",sub:\"\",classes:[\"small\",\"wide\",\"t-left\"],pos:[10,280]}),A.typeOut(document.getElementById(\"main-4\"),\"Fight your way back . . . . .\")},tickInterval:43,starttick:600,endtick:750}]};function k(t,e){return Math.atan2(e.y-t.y,e.x-t.x)}var x=new class{constructor(){h.queueOnLoad.push(t=>{this.canvas=document.getElementById(\"_canvas\"),this.cursor={x:0,y:0},this._scale(),this._listen()})}_scale(){var t=window.devicePixelRatio||1;this._bounds=this.canvas.getBoundingClientRect(),this.canvas.width=this._bounds.width*t,this.canvas.height=this._bounds.height*t,this.ctx=this.canvas.getContext(\"2d\"),this.ctx.scale(t,t),this.ctx.imageSmoothingEnabled=!1,h.bounds={top:0,left:0,width:this._bounds.width,height:this._bounds.height},h.bounds.getCenter=t=>({x:h.bounds.width/2,y:h.bounds.height/2}),h.bounds.ranPos=t=>({x:50+h.ran(h.bounds.width-100),y:50+h.ran(h.bounds.height-100),angle:0}),h.bounds.spawnPoints=[{x:h.bounds.width/6,y:h.bounds.height/4},{x:h.bounds.width/6,y:h.bounds.height/4*3},{x:h.bounds.width/6*5,y:h.bounds.height/4},{x:h.bounds.width/6*5,y:h.bounds.height/4*3}]}_resize(){this._bounds=this.canvas.getBoundingClientRect(),this.canvas.width=this._bounds.width*dpr,this.canvas.height=this._bounds.height*dpr,h.bounds={top:0,left:0,width:this._bounds.width,height:this._bounds.height},h.bounds.getCenter=t=>({x:h.bounds.width/2,y:h.bounds.height/2}),h.bounds.ranPos=t=>({x:50+h.ran(h.bounds.width-100),y:50+h.ran(h.bounds.height-100),angle:0}),h.bounds.spawnPoints=[]}_listen(){document.addEventListener(\"mousemove\",t=>{this.cursor={x:t.clientX-this._bounds.left,y:t.clientY-this._bounds.top}}),this.cursor={x:this.canvas.width/2,y:this.canvas.height/2}}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawDeathScreen(){}drawBackground(){this.ctx.fillStyle=\"#DDD\",this.ctx.fillRect(0,0,100,50),this.ctx.fillRect(this._bounds.width-50,0,this._bounds.width,50),this.ctx.fillRect(100,0,this._bounds.width-150,15),this.ctx.fillRect(100,35,this._bounds.width-150,15),this.ctx.fillStyle=\"#EEE\"}drawBackButton(t=.2,e=1){this.ctx.globalAlpha=t,this.ctx.fillStyle=\"#FFF\",this.ctx.fillRect(20,15,40,20),this.ctx.strokeStyle=e?`hsl(${e%255}, 100%, 40%)`:\"#888\",this.ctx.strokeRect(20,15,40,20),this.ctx.strokeStyle=\"#888\",this.ctx.beginPath(),this.ctx.moveTo(40,20),this.ctx.lineTo(35,25),this.ctx.lineTo(40,30),this.ctx.stroke(),this.ctx.globalAlpha=1}drawReticule(){}drawFlash(){}drawLoader(){this.ctx.fillStyle=\"#222\",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}_getBounds(){this._bounds=this.canvas.getBoundingClientRect()}},w=class{constructor(t={}){this._parent=t.parent||\"game\",this._type=t.type||\"entity\",this._speed=t.speed||1,this._health=t.health||1,this._damage=t.damage||1,this._pos=t.pos?{...t.pos}:{x:h.bounds.width/2,y:h.bounds.height/2,angle:0},this._vel=t.vel?{...t.vel}:{x:0,y:0},this._constAngle=t.constAngle,this._collides=t.collides||!0,this._buildIn=t.buildIn||!1,this._buildSpeed=t.buildSpeed||1,this._hitrad=this._buildIn?1:t.hitrad||5,this._maxrad=t.maxrad||this._hitrad,this.isDead=!1}takeDamage(t){this._health-=t,this._health<=0&&this._die()}moveTo(t){this._pos.x=t.x,this._pos.y=t.y}_checkCollisions(){let t=h.entities.filter(t=>h.sqDist(this._pos,t._pos)<h.sq(.6*this._hitrad)+h.sq(.6*t._hitrad)&&t._collides);this._handleCollisions(t)}_handleCollisions(t){}collides(t,e){return h.sqDist(this._pos,t)<h.sq(.6*this._hitrad)+h.sq(.6*e)}_checkBounds(){return this._pos.x-this._hitrad<2?1:this._pos.x+this._hitrad>h.bounds.width?2:this._pos.y-this._hitrad<2?3:this._pos.y+this._hitrad>h.bounds.height?4:void 0}_die(){this.isDead=!0}_build(){this._hitrad<this._maxrad&&(this._hitrad+=this._buildSpeed)}_bounce(){switch(this._checkBounds()){case 1:return this._vel.x=Math.abs(this._vel.x),!0;case 2:return this._vel.x=-Math.abs(this._vel.x),!0;case 3:return this._vel.y=-Math.abs(this._vel.y),!0;case 4:return this._vel.y=Math.abs(this._vel.y),!0}}_updatePos(){this._pos.x+=this._vel.x*this._speed,this._pos.y-=this._vel.y*this._speed,this._pos.angle=this._constAngle||k(this._pos,this._target)}_updateVel(){this._vel.x*=this._vel.x>.1||this._vel.x<.1?.95:0,this._vel.y*=this._vel.y>.1||this._vel.y<.1?.95:0}update(t){this._buildIn&&this._build(),this.health<=0&&this._die(),this.collides&&this._checkCollisions(),this._updatePos(),this._updateVel(),this._checkBounds(),this._render(t)}_draw(t){t.fillRect(this._pos.x,this._pos.y,20*this._hitrad/this._maxrad,20*this._hitrad/this._maxrad)}_drawHitbox(t){t.beginPath(),t.arc(0,0,.6*this._hitrad,0,2*Math.PI),t.stroke(),t.closePath()}_render(t){t.save(),t.translate(this._pos.x,this._pos.y),t.rotate(this._pos.angle),this._draw(t),t.restore()}},T=class extends w{constructor(t){super(t),this._maxrad=t.maxrad||30,this._collides=!1,this._type=\"explosion\",this._fill=t.fill}update(t){this._build(),this._hitrad>=this._maxrad?this._die():this._render(t)}_draw(t){let e=this._hitrad;t.strokeStyle=`rgba(0, 100, 0, ${.6-e/this._maxrad})`,t.beginPath(),t.arc(0,0,e,0,2*Math.PI),t.stroke(),this._fill&&(t.fillStyle=this.fill,t.fill())}},I=class extends w{constructor(t){super(t),this._speed=t.speed||4,this._hitrad=8,this._collides=!0,this._type=a,this._damage=1,this._initiator=t.initiator,this._fillColor=t.fillColor,this._strokeColor,this._subTypes=[\"bullet\",\"ripple\",\"bomb\",\"seeker\",\"orbiter\"],this._subType=t.subType||\"bullet\",this._initProjectileType()}static getTypes(){return[\"bullet\",\"ripple\",\"bomb\",\"seeker\",\"orbiter\"]}_initProjectileType(){switch(\"function\"==typeof this._subType?this._subType():this._subType){case\"bullet\":this._draw=t=>{let e=this._hitrad;t.fillStyle=\"rgba(2, 100, 2, 0.1)\",t.fillRect(-e,-e/2,-e/2,e/2),t.fillStyle=\"rgba(2, 100, 2, 0.1)\",t.fillRect(-e/2,-e/2,-e/2,e/2),t.fillStyle=this._fillColor||\"rgba(0, 20, 100, 0.8)\",t.fillRect(0,-e/2,-e/2,e/2)};break;case\"bomb\":this._vel={x:0,y:0};let t=20;this._draw=e=>{let s,i;e.save(),this._parent===r?(s=\"#d31d1d\",i=\"#870000\"):(s=\"#4dc5f9\",i=\"#3582e4\"),e.beginPath(),e.fillStyle=s,e.arc(0,0,.6*t,0,2*Math.PI),e.fill();let h=(e,s)=>{e.rotate(Math.PI/2),e.beginPath(),e.fillStyle=s,e.moveTo(0,0),e.arc(0,0,.6*t,0,Math.PI/2),e.moveTo(0,0),e.fill()};h(e,i),h(e,s),h(e,i),e.restore()};break;case\"seeker\":this._health=5,this._hitrad=30,this._draw=t=>{let e=this._hitrad;t.beginPath(),t.arc(0,0,.6*e,0,2*Math.PI),t.fill(),t.stroke()};break;case\"orbiter\":this._hitrad=30,this._speed=.6,this._pos={x:this._initiator._pos.x+100,y:this._initiator._pos.y},this._draw=t=>{h.circ(0,0,.6*this._hitrad,t)}}}_die(){let t=new T({pos:this._pos});h.entities.push(t),this.isDead=!0}_handleCollisions(t){t.map(t=>{switch(t._type){case this._type:t._parent!=this._parent&&(t.takeDamage(this._damage),this.takeDamage(1));break;case this._parent:break;default:t.takeDamage(this._damage),this._die()}})}update(t){switch(this._checkCollisions(),this._subType){case\"seeker\":h.oneIn(5)&&(this._pos.angle=k(this._pos,h.player._pos)),this._vel.x+=Math.cos(this._pos.angle)/10,this._vel.y+=-Math.sin(this._pos.angle)/10,this._pos.x+=this._vel.x*this._speed,this._pos.y-=this._vel.y*this._speed,this._updateVel();break;case\"orbiter\":this._pos.angle=k(this._pos,this._initiator._pos),this._vel.x+=Math.cos(this._pos.angle)/10,this._vel.y+=-Math.sin(this._pos.angle)/10,this._pos.x+=this._vel.x*this._speed,this._pos.y-=this._vel.y*this._speed;break;default:this._checkBounds()&&this._die(),this._pos.x+=this._vel.x*this._speed,this._pos.y-=this._vel.y*this._speed,this._pos.angle=this._constAngle}t.fillStyle=\"white\",this._render(t)}},C=(s(5),class extends w{constructor(t={}){switch(super(t),this._subType=t.subType||\"floater\",this._speed=.5,this._type=r,this._projType=I.getTypes()[0],this._shots=1,this._firerate=14,this._projColor=\"#d31d1d\",this._starttick=0,this._subType){case\"floater\":this._speed=.8,this._maxrad=30,this._hitrad=1,this._health=1,this._damage=1;break;case\"sniper\":this._health=2,this._maxrad=15,this._hitrad=1;break;case\"seeker\":this._speed=1.5,this._maxrad=20,this._hitrad=1,this._health=1,this._firerate=0;break;case\"launcher\":this._pos=h.bounds.spawnPoints[h.ranInt(3)],this._pos.angle=k(this._pos,h.player._pos),this._speed=.1,this._maxrad=120,this._hitrad=120,this._health=20,this._buildIn=!1,this._shots=2,this._firerate=50,this._projType=I.getTypes()[3],this._projSpeed=1.5;break;case\"bomber\":this._pos=h.bounds.spawnPoints[h.ranInt(3)],this._pos.angle=k(this._pos,h.player._pos),this._vel={x:0,y:0},this._speed=.5,this._maxrad=100,this._hitrad=80,this._health=20,this._shots=1,this._firerate=150,this._projType=I.getTypes()[2],this._projColor=\"#d31d1d\";break;case\"boss\":this._pos=h.bounds.spawnPoints[h.ranInt(3)],this._pos.angle=k(this._pos,h.player._pos),this._vel={x:0,y:0},this._speed=.1,this._maxrad=100,this._hitrad=80,this._health=50,this._projColor=\"#d31d1d\",this._starttick=399}}_die(){h.entities.push(new T({pos:this._pos})),this.isDead=!0}_shoot(){if(this._starttick%this._firerate==0&&this._starttick>100)for(let t=0;t<this._shots;t++){let e=this._pos.angle+(h.ran()-.5)/10+2*Math.PI/this._shots*t;this._proj=new I({parent:r,initiator:this,subType:this._projType,pos:this._pos,vel:{x:Math.cos(e),y:-Math.sin(e)},speed:this._projSpeed,constAngle:e,fillColor:this._projColor}),h.entities.push(this._proj)}}_changeTarget(){this._pos.angle=k(this._pos,h.player._pos)}update(t){if(this.isDead)return;this._buildIn&&this._build(),0===this._health&&this._die(),this._checkCollisions();let e=t=>{t._vel.x+=Math.cos(t._pos.angle)/10,t._vel.y+=-Math.sin(t._pos.angle)/10,t._pos.x+=t._vel.x*t._speed,t._pos.y-=t._vel.y*t._speed};switch(this._subType){case\"floater\":h.oneIn(100)&&(this._pos.angle=k(this._pos,h.bounds.ranPos())+h.ranRad()),e(this),this._bounce()&&(this._pos.angle=k(this._pos,h.bounds.ranPos()));break;case\"sniper\":this._vel.x=0,this._vel.y=0,h.oneIn(5)&&(this._pos.angle=k(this._pos,h.player._pos)),this._shoot();break;case\"seeker\":this._starttick>100&&(h.oneIn(5)&&(this._pos.angle=k(this._pos,h.player._pos)),e(this));break;case\"launcher\":this._pos.angle=k(this._pos,h.player._pos),e(this),this._shoot();break;case\"bomber\":h.oneIn(80)&&(this._pos.angle=k(this._pos,h.bounds.ranPos())+h.ranRad()),e(this),this._bounce()&&(this._pos.angle=k(this._pos,h.bounds.ranPos())),this._shoot();break;case\"boss\":h.oneIn(1)&&(this._pos.angle=k(this._pos,h.player._pos)),e(this),this._shots=4,this._firerate=10,this._projType=I.getTypes()[0],this._shoot(),this._shots=6,this._firerate=400,this._projType=I.getTypes()[4],this._shoot()}this._starttick++,this._updateVel(),this._render(t)}_draw(t){t.strokeWidth=10;let e=this._hitrad;switch(t.beginPath(),t.fillStyle=\"white\",this._subType){case\"floater\":t.rotate(Math.PI/4),t.fillRect(-e/2,-e/2,e,e),t.strokeRect(-e/2,-e/2,e,e);break;case\"sniper\":t.fillRect(-e/2,-e/2,e,e),t.strokeRect(-e/2,-e/2,e,e);break;case\"seeker\":h.circ(.3*-e,0,.4*e,t),h.circ(1*e-.6*e,0,.4*e,t);break;case\"launcher\":h.circ(0,0,.6*e,t),h.circ(0,e/2,.2*e,t),h.circ(0,-e/2,.2*e,t);break;case\"boss\":h.circ(0,0,.6*e,t),h.circ(0,e/2,.2*e,t),h.circ(0,-e/2,.2*e,t),h.circ(e/2,0,.2*e,t),h.circ(-e/2,0,.2*e,t),t.beginPath();break;default:h.circ(0,0,.6*e,t)}h.DEBUG&&this._drawHitbox(t)}}),S=class extends w{constructor(t){super(t),this.subTypes=Object.keys(m),this._type=o,this._subType=this.subTypes[0],this._projType=I.getTypes()[0],this._health=3,this._speed=.5,this._shots=1,this._firerate=14,this._imgLoaded=!1,this._cursorImg=new Image,this.isDisabled=!1,this._cursorImg.onload=t=>{this._imgLoaded=!0},this._initPlayerType()}_initPlayerType(){switch(this._cursorImg.src=m[this._subType],this._subType){case\"cPointer\":this._shots=1,this._firerate=14,this._projType=I.getTypes()[0];break;case\"cRapid\":this._shots=1,this._firerate=8;break;case\"cDiagonal\":this._shots=2,this._firerate=10;break;case\"cCross\":this._shots=4,this._firerate=8;break;case\"cBomb\":this._shots=1,this._firerate=50,this._projType=I.getTypes()[2]}}reset(){this._cursorImg.src=m[this._subType],this._health=3,this.isDisabled=!1,this.isDead=!1,this._pos.x=h.bounds.getCenter().x,this._pos.y=h.bounds.getCenter().y,this._vel.x=0,this._vel.y=0}nextType(){this._subType=h.next(this.subTypes,this._subType),this._initPlayerType()}setType(t){this._subType=t,this._initPlayerType()}_handleCollisions(t){t.map(t=>{t._type===r&&(t.takeDamage(1),this.takeDamage(1))})}_die(){h.entities.push(new T({pos:this._pos})),this.isDead=!0}_shoot(){if(h.tick%this._firerate==0)for(let t=0;t<this._shots;t++){let e=this._pos.angle+(h.ran()-.5)/10+2*Math.PI/this._shots*t;this._proj=new I({parent:o,subType:this._projType,pos:this._pos,vel:{x:Math.cos(e),y:-Math.sin(e)},constAngle:e}),h.entities.push(this._proj)}}update(t){this.isDead||(this._health<=0?this._die():(this._buildIn&&this._build(),this._checkCollisions(),this._updatePos(),player.isDisabled||(h.keyMap&h.keys[87]&&(this._vel.y+=this._speed),h.keyMap&h.keys[65]&&(this._vel.x-=this._speed),h.keyMap&h.keys[83]&&(this._vel.y-=this._speed),h.keyMap&h.keys[68]&&(this._vel.x+=this._speed),h.keyMap&h.keys[32]&&this._shoot()),this._updateVel(),this._bounce(),this._render(t)))}_render(t){t.save(),t.translate(this._pos.x,this._pos.y),t.rotate(this._pos.angle+Math.PI/2);let e=this._hitrad;if(this._imgLoaded){let s=1.5*this._cursorImg.width*e/this._maxrad,i=1.5*this._cursorImg.height*e/this._maxrad;t.drawImage(this._cursorImg,-s/2,-i/2,s,i)}else t.fillStyle=\"black\",t.beginPath(),t.moveTo(-e,0),t.lineTo(0,-e),t.lineTo(e,0),t.strokeRect(-e/2,-e/2,e,e),t.stroke();t.restore()}};window.coot=function(t,e){Math.round(Math.random()*e)==e&&console.log(t)};new class{constructor(){h.queueOnLoad.push(t=>{this._cc=x,this._canvas=this._cc.canvas,this._ctx=this._cc.ctx,this._ui=A,this._restartBs=document.getElementsByClassName(\"b-restart\");for(let t=0;t<this._restartBs.length;t++)this._restartBs[t].addEventListener(\"click\",t=>this._restart());this.spawnPoints=[],this._score=0,this._backAlpha=.2,this.activeSequences=[],this._introSeq=!1,this._state=\"INTRODUCTION\",this._level=2,this._levels=g,h._level=this._level,h._levels=g,h.player=new S({buildIn:!0,hitrad:15,maxrad:15}),h.entities.push(h.player),this._backPos={x:25,y:20},this._remaining=h.entities,this._prevtime=Date.now(),this._framerate=10,this.stateLoop()})}_restart(){console.log(\"restart\"),this._level=0,this._state=\"START_LEVEL\",h._entities=[],h.player.reset(),this.stateLoop()}_startLevel(t){h.entities=[],h._level=t;let e=this._levels[t];h.player.reset(),h.entities.push(player),Object.keys(e.enemies).map(t=>{let s=e.enemies[t];for(let e=0;e<s;e++)setTimeout(e=>{let s=h.bounds.ranPos(),i=0;for(;h.sqDist(h.bounds.getCenter(),s)<h.sq(100)&&i<20;)s={x:h.ran(h.bounds.width),y:h.ran(h.bounds.height),angle:0},i++;let a=new C({pos:s,subType:t,buildIn:!0});h.entities.push(a)},1e3*e)})}stateLoop(){if(Date.now()-this._prevtime>this._framerate){switch(this._prevtime=Date.now(),this._ui.setState(this._state),this._state){case\"INTRODUCTION\":this._introSeq?this._introSeq&&(this._introSeq.tick(),this._introSeq.isDone&&(h.player.setType(\"cPointer\"),this._state=\"START_LEVEL\")):this._introSeq=new class{constructor(t){this._startticks=h.tick||0,this._sequence=t||[],this.isDone=!1}tick(){this._elapsedticks=h.tick-this._startticks,this._sequence=this._sequence.filter(t=>!(this._elapsedticks>t.endtick)),this._sequence&&0!=this._sequence.length?this._sequence.map(t=>{this._elapsedticks>t.starttick&&(t&&t.action&&!t.executed&&(t.action(),t.executed=!0),t&&t.tickInterval&&t.onTick&&this._elapsedticks%t.tickInterval==0&&t.onTick())}):this.isDone=!0}}(v.introduction),this._play();break;case\"START_CHOOSE_UPGRADES\":let t=h._levels[h._level];console.log(t),this._ui.showUpgrades({levelNum:h._level,level:t,hasUpgrades:t.hasUpgrades,click1:e=>{h.player.setType(t.up1),this._state=\"START_LEVEL\"},click2:e=>{h.player.setType(t.up2),this._state=\"START_LEVEL\"}}),h._levels[h._level].hasUpgrades||setTimeout(t=>this._state=\"START_LEVEL\",4e3),this._state=\"WAIT_CHOOSE_UPGRADES\";break;case\"WAIT_CHOOSE_UPGRADES\":this._play();break;case\"START_LEVEL\":this._backAlpha=.2,this._startLevel(this._level),this._state=\"PLAYING\";break;case\"LEVEL_CLEAR\":this._level+1<this._levels.length?(this._level++,h._level=this._level,h.player._health=3,this._ui.setHealth(3),this._state=\"WAIT_CHOOSE_BACK\",h.entities.push(new T({pos:this._backPos})),h.entities.map(t=>{t._type===a&&t._die()})):this._state=\"START_WIN\";break;case\"WAIT_CHOOSE_BACK\":h.player.collides(this._backPos,50)&&(h.entities.push(new T({pos:this._backPos,fill:\"#111\",maxrad:1e5,buildSpeed:5})),this._state=\"START_CHOOSE_UPGRADES\"),this._play(),this._cc.drawBackButton(1,h.tick);break;case\"START_WIN\":this._ui.setFinalScore(this._score),this._state=\"WAIT_WIN\";break;case\"WAIT_WIN\":this._play();break;case\"DEAD\":this._ui.setFinalScore(this._score),this._play();break;case\"PLAYING\":if(this._score++,h.player.isDead){this._state=\"DEAD\";break}if(0===h.entities.filter(t=>t._type===r).length){this._state=\"LEVEL_CLEAR\";break}this._play();break;default:this._play()}h.tick++,this._ui.setScore(this._score)}requestAnimationFrame(t=>this.stateLoop())}_play(){this._cc.ctx.beginPath(),this._cc.clear(),this._cc.drawBackground(),h.player._target=this._cc.cursor,this._ui.setHealth(h.player._health),h.entities=h.entities.sort((t,e)=>t._type-e._type),this._remaining=[];for(let t=0;t<h.entities.length;t++){let e=h.entities[t];e.isDead||(e.update(this._ctx),this._remaining.push(e))}h.entities=this._remaining}},s(13)}]);","extractedComments":[]}